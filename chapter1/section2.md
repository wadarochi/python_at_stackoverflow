## 交换列表元素的好办法
### [Question](http://stackoverflow.com/questions/39167057/better-way-to-swap-elements-in-a-list)
我有很多这种类型的列表：
```python
l = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]
```
我想像这样交换列表中的元素位置：
```python
final_l = [2, 1, 4, 3, 6, 5, 8, 7, 10, 9]
```
列表的长度可能不同，但是元素个数都是偶数个。作为一个Python新手，我现在是这么干的：
```python
l =  [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]
final_l = []
for i in range(0, len(l)/2):
    final_l.append(l[2*i+1])
    final_l.append(l[2*i])
```
我知道这样不够Pythonic，希望可以用更高效的写法，比如list comprehension？

### Answer
| rank | ▲    | url  |
| :--- | :--: | :--: |
| 1	   | 54   | [url](http://stackoverflow.com/a/39167545/763878)  |

不需要复杂的逻辑，只需要使用列表切片(slicing)和step：
```python
In [1]: l = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]

In [2]: l[::2], l[1::2] = l[1::2], l[::2]

In [3]: l
Out[3]: [2, 1, 4, 3, 6, 5, 8, 7, 10, 9]
```

----

*长文慎入(TL;DR -- Too Long; Don't Read)*

我相信大部分读者都熟悉列表切片和多元赋值操作。假如你不熟悉，我在这里尝试解释一下（希望不会把你搞晕）。

如果想了解列表切片，[这里](http://stackoverflow.com/questions/509211/explain-pythons-slice-notation)已经对列表切片概念进行了非常好的解释，比如：
```python
a[start:end] # 返回列表a中从start到end-1的所有元素
a[start:]    # 返回列表a中从start开始的所有元素
a[:end]      # 返回列表a中从开始到end-1的所有元素
a[:]         # 返回整个列表a的拷贝

# 除此之外，列表切片中还可以设置一个步进(step)值，这个步进值可以在上述任一语句中使用

a[start:end:step] # 返回列表a中，从start开始，间隔为step，并且下标(index)不超过end的所有元素
```

让我们再来看看题主(OP)的需求：
```python
 [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]  # list l
  ^  ^  ^  ^  ^  ^  ^  ^  ^  ^
  0  1  2  3  4  5  6  7  8  9    # 列表中元素的下标
l[0]  l[2]  l[4]  l[6]  l[8]      # 第一组 : start=0, step=2
   l[1]  l[3]  l[5]  l[7]  l[9]   # 第二组 : start=1, step=2
-----------------------------------------------------------------------
l[1]  l[3]  l[5]  l[7]  l[9]
   l[0]  l[2]  l[4]  l[6]  l[8]   # 题主想要的结果
```
可以这要获取第一组的元素：`l[::2] = [1, 3, 5, 7, 9]`，第二组可以这样：`l[1::2] = [2, 4, 6, 8, 10]`。

同时我们还需要将两组交换位置，可以使用多元赋值，这么干：
```python
first , second  = second , first
```
具体到这个例子：
```python
l[::2], l[1::2] = l[1::2], l[::2]
```
顺带提一下，如果不想改变l本身，可以先从l拷贝一份新的列表，然后再执行上面的多元赋值：
```python
n = l[:]  # 将n赋值为l的拷贝 (如果不使用 [:], n将仍然指向原来的l)
n[::2], n[1::2] = n[1::2], n[::2]
```
希望这段说明没有把你们任何人弄晕，如果不幸真的把你们弄晕了，请帮忙更新、完善我的这段说明:)
